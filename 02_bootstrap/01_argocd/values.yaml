# Ref: https://github.com/argoproj/argo-helm/blob/main/charts/argo-cd/values.yaml
argo-cd:
  crds:
    install: true
    keep: false

  server:
    ingress:
      enabled: true
      ingressClassName: "" 
      annotations:
        traefik.ingress.kubernetes.io/router.middlewares: "traefik-common-internal-access-allowlist@kubernetescrd"

  configs:
    params:
      # TODO?
      server.insecure: true
      #application.namespaces: "infra-argocd-apps"

      # beta feature, but without default values (e.g. cilium volume 'readonly: false') are stripped resulting in a sync loop
      #  -> https://github.com/argoproj/argo-cd/issues/19038
      #  -> https://argo-cd.readthedocs.io/en/stable/user-guide/diff-strategies/#server-side-diff
      controller.diff.server.side: "true"

  #redis-ha:
  #  enabled: true

  #controller:
  #  replicas: 1

  #server:
  #  replicas: 2

  #repoServer:
  #  replicas: 2

  #applicationSet:
  #  replicas: 2
