ingress:
  enabled: true
  host: ""

traefik:
  ports:
    traefik:
      expose: 
        # use this to make traefik dashboard available via the service
        default: true  # TODO: turn off in production

  ingressRoute:
    dashboard:
      enabled: false  # enabling this requires traefik crds and the IngressRoute is weird
      #matchRule: "Host(`traefik.test.svc.elda`)"

  providers:
    kubernetesCRD:
      # this is required to configure traefik based on its crds
      enabled: true

    kubernetesIngress:
      enabled: true
      publishedService:
        enabled: true  # required for argo to not show ingresses as progressing

  logs:
    access:
      enabled: true
    general:
      level: INFO

  # TODO: not in production
  globalArguments:
    - "--api.dashboard=true"
    - "--api.insecure=true"

  # https://community.traefik.io/t/traefik-ingress-not-getting-loadbalancer-ip/17445/3
  #additionalArguments:
  #  - "--providers.kubernetesingress.ingressendpoint.publishedservice=default/traefik"
