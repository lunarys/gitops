{
    ignorePaths: [
        ".archive/**"
    ],
    customManagers: [
        {
            customType: "jsonata",
            fileFormat: "yaml",
            managerFilePatterns: ["**/k0s-*-cluster.yaml"],
            matchStrings: ["spec.k0s.{\"currentValue\": version}"],
            depNameTemplate: "k0sproject/k0s",
            datasourceTemplate: "github-releases"
        },
        {
            customType: "jsonata",
            fileFormat: "yaml",
            managerFilePatterns: ["/(^|/)(.*-)?values(-prod|-test)?\\.ya?ml$/"],
            matchStrings: [
                "image.{\"depName\": name, \"currentValue\": tag}",
                "*.image.{\"depName\": name, \"currentValue\": tag}"
            ],
            datasourceTemplate: "docker"
        },
        {
          customType: "jsonata",
          fileFormat: "yaml",
          managerFilePatterns: ["//apps/.+/(.*-)?app.yaml$/"],
          matchStrings: [
            "helm.{ \
              'datasource': 'helm', \
              'depName': chart, \
              'currentValue': version, \
              'registryUrl': ( \
                $exists(repo) and $type(repo)='string' and $match(repo, /^https?:\\/\\//) \
                  ? repo \
                  : undefined \
              ), \
              'packageName': ( \
                $exists(repo) and $type(repo)='string' and $match(repo, /^https?:\\/\\//) \
                  ? chart \
                  : ($replace(repo, /^oci:\\/\\//, '') & '/' & chart) \
              ) \
            }"
          ]
        },
        {
            customType: "jsonata",
            fileFormat: "yaml",
            managerFilePatterns: ["03_apps/values.yaml"],
            matchStrings: [
                "{\"currentValue\": secretsChartVersion, \"packageName\": mainHelmRepo & '/' & secretsChart, 'depName': secretsChart}"
            ],
            datasourceTemplate: "helm"
        },
        {
            customType: "jsonata",
            fileFormat: "yaml",
            managerFilePatterns: ["03_apps/values.yaml"],
            matchStrings: [
                "{\"currentValue\": networkPolicyChartVersion, \"packageName\": mainHelmRepo & '/' & networkPolicyChart, 'depName': networkPolicyChart}"
            ],
            datasourceTemplate: "helm"
        }
    ]
}
