preset:
  name: networkpolicy-postgresdb
  endpointSelector:
    matchLabels:
      cnpg.io/podRole: instance
  namespaceIsolation: true
  ingress:
    # access the database for application workloads
    fromNamespaces:
      - nodered
    fromIngressController: false
      # TODO: just introduce a label for "allowed clients" aka dbusers?
  egress:
    toKubeApi: true
    rules:
      # s3 host
      # TODO: improve, does not update with the setting from values.yaml
      - toCIDRSet:
          - cidr: 10.0.1.21/32
        toPorts:
            - ports:
                - port: "3900"
                  protocol: TCP
